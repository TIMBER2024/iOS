{"sources":{"test/samples/forall_simple.sol":{"ast":{"absolutePath":"test/samples/forall_simple.sol","exportedSymbols":{"ForallSimple":[105]},"id":106,"nodeType":"SourceUnit","nodes":[{"id":1,"literals":["solidity","0.8",".4"],"nodeType":"PragmaDirective","src":"0:22:0"},{"abstract":false,"baseContracts":[],"contractDependencies":[],"contractKind":"contract","documentation":{"id":2,"nodeType":"StructuredDocumentation","src":"24:47:0","text":"#invariant forall (uint i in a) a[i] > 10;"},"fullyImplemented":true,"id":105,"linearizedBaseContracts":[105],"name":"ForallSimple","nameLocation":"80:12:0","nodeType":"ContractDefinition","nodes":[{"constant":false,"id":5,"mutability":"mutable","name":"a","nameLocation":"103:1:0","nodeType":"VariableDeclaration","scope":105,"src":"96:8:0","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage","typeString":"uint256[]"},"typeName":{"baseType":{"id":3,"name":"uint","nodeType":"ElementaryTypeName","src":"96:4:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":4,"nodeType":"ArrayTypeName","src":"96:6:0","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"},{"body":{"id":16,"nodeType":"Block","src":"138:17:0","statements":[{"expression":{"arguments":[{"id":13,"name":"x","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":7,"src":"149:1:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":10,"name":"a","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5,"src":"142:1:0","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage","typeString":"uint256[] storage ref"}},"id":12,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"push","nodeType":"MemberAccess","src":"142:6:0","typeDescriptions":{"typeIdentifier":"t_function_arraypush_nonpayable$_t_array$_t_uint256_$dyn_storage_ptr_$_t_uint256_$returns$__$bound_to$_t_array$_t_uint256_$dyn_storage_ptr_$","typeString":"function (uint256[] storage pointer,uint256)"}},"id":14,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"142:9:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":15,"nodeType":"ExpressionStatement","src":"142:9:0"}]},"functionSelector":"959ac484","id":17,"implemented":true,"kind":"function","modifiers":[],"name":"push","nameLocation":"116:4:0","nodeType":"FunctionDefinition","parameters":{"id":8,"nodeType":"ParameterList","parameters":[{"constant":false,"id":7,"mutability":"mutable","name":"x","nameLocation":"126:1:0","nodeType":"VariableDeclaration","scope":17,"src":"121:6:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":6,"name":"uint","nodeType":"ElementaryTypeName","src":"121:4:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"120:8:0"},"returnParameters":{"id":9,"nodeType":"ParameterList","parameters":[],"src":"138:0:0"},"scope":105,"src":"107:48:0","stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"body":{"id":26,"nodeType":"Block","src":"286:4:0","statements":[]},"documentation":{"id":18,"nodeType":"StructuredDocumentation","src":"158:79:0","text":"#if_succeeds forall (uint i in a) let z1 := x in let z2 := a[i] in z2 > z1;"},"functionSelector":"ec4a05e8","id":27,"implemented":true,"kind":"function","modifiers":[],"name":"test1","nameLocation":"248:5:0","nodeType":"FunctionDefinition","parameters":{"id":24,"nodeType":"ParameterList","parameters":[{"constant":false,"id":21,"mutability":"mutable","name":"a","nameLocation":"268:1:0","nodeType":"VariableDeclaration","scope":27,"src":"254:15:0","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":19,"name":"uint","nodeType":"ElementaryTypeName","src":"254:4:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":20,"nodeType":"ArrayTypeName","src":"254:6:0","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"},{"constant":false,"id":23,"mutability":"mutable","name":"x","nameLocation":"276:1:0","nodeType":"VariableDeclaration","scope":27,"src":"271:6:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":22,"name":"uint","nodeType":"ElementaryTypeName","src":"271:4:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"253:25:0"},"returnParameters":{"id":25,"nodeType":"ParameterList","parameters":[],"src":"286:0:0"},"scope":105,"src":"239:51:0","stateMutability":"nonpayable","virtual":false,"visibility":"public"},{"constant":false,"id":30,"mutability":"mutable","name":"t","nameLocation":"298:1:0","nodeType":"VariableDeclaration","scope":105,"src":"293:10:0","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":28,"name":"uint","nodeType":"ElementaryTypeName","src":"293:4:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":{"hexValue":"30","id":29,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"302:1:0","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"visibility":"internal"},{"body":{"id":43,"nodeType":"Block","src":"407:13:0","statements":[{"expression":{"id":41,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":39,"name":"t","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":30,"src":"411:1:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":40,"name":"x","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36,"src":"415:1:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"411:5:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":42,"nodeType":"ExpressionStatement","src":"411:5:0"}]},"documentation":{"id":31,"nodeType":"StructuredDocumentation","src":"306:52:0","text":"#if_succeeds forall (uint i in a) a[i] > old(t);"},"functionSelector":"6b7163b2","id":44,"implemented":true,"kind":"function","modifiers":[],"name":"test2","nameLocation":"369:5:0","nodeType":"FunctionDefinition","parameters":{"id":37,"nodeType":"ParameterList","parameters":[{"constant":false,"id":34,"mutability":"mutable","name":"a","nameLocation":"389:1:0","nodeType":"VariableDeclaration","scope":44,"src":"375:15:0","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":32,"name":"uint","nodeType":"ElementaryTypeName","src":"375:4:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":33,"nodeType":"ArrayTypeName","src":"375:6:0","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"},{"constant":false,"id":36,"mutability":"mutable","name":"x","nameLocation":"397:1:0","nodeType":"VariableDeclaration","scope":44,"src":"392:6:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":35,"name":"uint","nodeType":"ElementaryTypeName","src":"392:4:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"374:25:0"},"returnParameters":{"id":38,"nodeType":"ParameterList","parameters":[],"src":"407:0:0"},"scope":105,"src":"360:60:0","stateMutability":"nonpayable","virtual":false,"visibility":"public"},{"constant":false,"id":47,"mutability":"mutable","name":"t1","nameLocation":"428:2:0","nodeType":"VariableDeclaration","scope":105,"src":"423:11:0","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":45,"name":"uint","nodeType":"ElementaryTypeName","src":"423:4:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":{"hexValue":"30","id":46,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"433:1:0","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"visibility":"internal"},{"body":{"id":60,"nodeType":"Block","src":"567:14:0","statements":[{"expression":{"id":58,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":56,"name":"t1","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47,"src":"571:2:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":57,"name":"x","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53,"src":"576:1:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"571:6:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":59,"nodeType":"ExpressionStatement","src":"571:6:0"}]},"documentation":{"id":48,"nodeType":"StructuredDocumentation","src":"437:81:0","text":"#if_succeeds old(forall (uint i in a) let x := a[i] in let y := t1 in x > y);"},"functionSelector":"66a60b20","id":61,"implemented":true,"kind":"function","modifiers":[],"name":"test3","nameLocation":"529:5:0","nodeType":"FunctionDefinition","parameters":{"id":54,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51,"mutability":"mutable","name":"a","nameLocation":"549:1:0","nodeType":"VariableDeclaration","scope":61,"src":"535:15:0","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":49,"name":"uint","nodeType":"ElementaryTypeName","src":"535:4:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":50,"nodeType":"ArrayTypeName","src":"535:6:0","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"},{"constant":false,"id":53,"mutability":"mutable","name":"x","nameLocation":"557:1:0","nodeType":"VariableDeclaration","scope":61,"src":"552:6:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":52,"name":"uint","nodeType":"ElementaryTypeName","src":"552:4:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"534:25:0"},"returnParameters":{"id":55,"nodeType":"ParameterList","parameters":[],"src":"567:0:0"},"scope":105,"src":"520:61:0","stateMutability":"nonpayable","virtual":false,"visibility":"public"},{"constant":false,"id":64,"mutability":"mutable","name":"t2","nameLocation":"589:2:0","nodeType":"VariableDeclaration","scope":105,"src":"584:11:0","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":62,"name":"uint","nodeType":"ElementaryTypeName","src":"584:4:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":{"hexValue":"30","id":63,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"594:1:0","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"visibility":"internal"},{"body":{"id":78,"nodeType":"Block","src":"729:14:0","statements":[{"expression":{"id":76,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":74,"name":"t2","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":64,"src":"733:2:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":75,"name":"x","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71,"src":"738:1:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"733:6:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":77,"nodeType":"ExpressionStatement","src":"733:6:0"}]},"documentation":{"id":65,"nodeType":"StructuredDocumentation","src":"598:80:0","text":"#if_succeeds forall (uint i in a) forall (uint j in a[i]) a[i][j] > old(t2);"},"functionSelector":"693918d5","id":79,"implemented":true,"kind":"function","modifiers":[],"name":"test4","nameLocation":"689:5:0","nodeType":"FunctionDefinition","parameters":{"id":72,"nodeType":"ParameterList","parameters":[{"constant":false,"id":69,"mutability":"mutable","name":"a","nameLocation":"711:1:0","nodeType":"VariableDeclaration","scope":79,"src":"695:17:0","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_array$_t_uint256_$dyn_memory_ptr_$dyn_memory_ptr","typeString":"uint256[][]"},"typeName":{"baseType":{"baseType":{"id":66,"name":"uint","nodeType":"ElementaryTypeName","src":"695:4:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":67,"nodeType":"ArrayTypeName","src":"695:6:0","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"id":68,"nodeType":"ArrayTypeName","src":"695:8:0","typeDescriptions":{"typeIdentifier":"t_array$_t_array$_t_uint256_$dyn_storage_$dyn_storage_ptr","typeString":"uint256[][]"}},"visibility":"internal"},{"constant":false,"id":71,"mutability":"mutable","name":"x","nameLocation":"719:1:0","nodeType":"VariableDeclaration","scope":79,"src":"714:6:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":70,"name":"uint","nodeType":"ElementaryTypeName","src":"714:4:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"694:27:0"},"returnParameters":{"id":73,"nodeType":"ParameterList","parameters":[],"src":"729:0:0"},"scope":105,"src":"680:63:0","stateMutability":"nonpayable","virtual":false,"visibility":"public"},{"body":{"id":83,"nodeType":"Block","src":"830:4:0","statements":[]},"documentation":{"id":80,"nodeType":"StructuredDocumentation","src":"746:58:0","text":"#if_succeeds forall (uint i in 1...5) i >= 1 && i < 5;"},"functionSelector":"1ad7be82","id":84,"implemented":true,"kind":"function","modifiers":[],"name":"test5","nameLocation":"815:5:0","nodeType":"FunctionDefinition","parameters":{"id":81,"nodeType":"ParameterList","parameters":[],"src":"820:2:0"},"returnParameters":{"id":82,"nodeType":"ParameterList","parameters":[],"src":"830:0:0"},"scope":105,"src":"806:28:0","stateMutability":"nonpayable","virtual":false,"visibility":"public"},{"body":{"id":88,"nodeType":"Block","src":"911:4:0","statements":[]},"documentation":{"id":85,"nodeType":"StructuredDocumentation","src":"837:48:0","text":"#if_succeeds forall (uint i in 1...5) i > 1;"},"functionSelector":"6f3babc4","id":89,"implemented":true,"kind":"function","modifiers":[],"name":"test6","nameLocation":"896:5:0","nodeType":"FunctionDefinition","parameters":{"id":86,"nodeType":"ParameterList","parameters":[],"src":"901:2:0"},"returnParameters":{"id":87,"nodeType":"ParameterList","parameters":[],"src":"911:0:0"},"scope":105,"src":"887:28:0","stateMutability":"nonpayable","virtual":false,"visibility":"public"},{"body":{"id":93,"nodeType":"Block","src":"992:4:0","statements":[]},"documentation":{"id":90,"nodeType":"StructuredDocumentation","src":"918:48:0","text":"#if_succeeds forall (uint i in 1...5) i < 4;"},"functionSelector":"66e84d62","id":94,"implemented":true,"kind":"function","modifiers":[],"name":"test7","nameLocation":"977:5:0","nodeType":"FunctionDefinition","parameters":{"id":91,"nodeType":"ParameterList","parameters":[],"src":"982:2:0"},"returnParameters":{"id":92,"nodeType":"ParameterList","parameters":[],"src":"992:0:0"},"scope":105,"src":"968:28:0","stateMutability":"nonpayable","virtual":false,"visibility":"public"},{"body":{"id":98,"nodeType":"Block","src":"1074:4:0","statements":[]},"documentation":{"id":95,"nodeType":"StructuredDocumentation","src":"999:48:0","text":"#if_succeeds forall (uint i in 5...5) false;"},"functionSelector":"fa8b8ea1","id":99,"implemented":true,"kind":"function","modifiers":[],"name":"test11","nameLocation":"1058:6:0","nodeType":"FunctionDefinition","parameters":{"id":96,"nodeType":"ParameterList","parameters":[],"src":"1064:2:0"},"returnParameters":{"id":97,"nodeType":"ParameterList","parameters":[],"src":"1074:0:0"},"scope":105,"src":"1049:29:0","stateMutability":"nonpayable","virtual":false,"visibility":"public"},{"body":{"id":103,"nodeType":"Block","src":"1212:4:0","statements":[]},"documentation":{"id":100,"nodeType":"StructuredDocumentation","src":"1081:104:0","text":"#if_succeeds let MAX_INT := uint(2**255 - 1 + 2**255) in forall (uint i in MAX_INT...MAX_INT) false;"},"functionSelector":"d4bad72a","id":104,"implemented":true,"kind":"function","modifiers":[],"name":"test12","nameLocation":"1196:6:0","nodeType":"FunctionDefinition","parameters":{"id":101,"nodeType":"ParameterList","parameters":[],"src":"1202:2:0"},"returnParameters":{"id":102,"nodeType":"ParameterList","parameters":[],"src":"1212:0:0"},"scope":105,"src":"1187:29:0","stateMutability":"nonpayable","virtual":false,"visibility":"public"}],"scope":106,"src":"71:1147:0","usedErrors":[]}],"src":"0:1219:0","sourceEntryKey":"test/samples/forall_simple.sol"},"id":0,"source":"pragma solidity 0.8.4;\n\n/// #invariant forall (uint i in a) a[i] > 10;\ncontract ForallSimple {\n\tuint[] a;\n\tfunction push(uint x) external {\n\t\ta.push(x);\n\t}\n\n\t/// #if_succeeds forall (uint i in a) let z1 := x in let z2 := a[i] in z2 > z1;\n\tfunction test1(uint[] memory a, uint x) public {\n\t}\n\n\tuint t = 0;\n\t/// #if_succeeds forall (uint i in a) a[i] > old(t);\n\tfunction test2(uint[] memory a, uint x) public {\n\t\tt = x;\n\t}\n\n\tuint t1 = 0;\n\t/// #if_succeeds old(forall (uint i in a) let x := a[i] in let y := t1 in x > y);\n\tfunction test3(uint[] memory a, uint x) public {\n\t\tt1 = x;\n\t}\n\n\tuint t2 = 0;\n\t/// #if_succeeds forall (uint i in a) forall (uint j in a[i]) a[i][j] > old(t2);\n\tfunction test4(uint[][] memory a, uint x) public {\n\t\tt2 = x;\n\t}\n\n\t/// #if_succeeds forall (uint i in 1...5) i >= 1 && i < 5;\n\tfunction test5() public {\n\t}\n\n\t/// #if_succeeds forall (uint i in 1...5) i > 1;\n\tfunction test6() public {\n\t}\n\n\t/// #if_succeeds forall (uint i in 1...5) i < 4;\n\tfunction test7() public {\n\t}\n\n\t/// #if_succeeds forall (uint i in 5...5) false;\n\tfunction test11() public {\n\t}\n\n\t/// #if_succeeds let MAX_INT := uint(2**255 - 1 + 2**255) in forall (uint i in MAX_INT...MAX_INT) false;\n\tfunction test12() public {\n\t}\n}\n"}},"compilerVersion":"0.8.4"}