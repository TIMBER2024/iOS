{"sources":{"test/samples/forall_and_if_updated.sol":{"ast":{"absolutePath":"test/samples/forall_and_if_updated.sol","exportedSymbols":{"Foo":[44]},"id":45,"nodeType":"SourceUnit","nodes":[{"id":1,"literals":["solidity","0.8",".10"],"nodeType":"PragmaDirective","src":"0:23:0"},{"abstract":false,"baseContracts":[],"canonicalName":"Foo","contractDependencies":[],"contractKind":"contract","fullyImplemented":true,"id":44,"linearizedBaseContracts":[44],"name":"Foo","nameLocation":"34:3:0","nodeType":"ContractDefinition","nodes":[{"canonicalName":"Foo.CustomValueType","id":3,"name":"CustomValueType","nameLocation":"49:15:0","nodeType":"UserDefinedValueTypeDefinition","src":"44:31:0","underlyingType":{"id":2,"name":"uint32","nodeType":"ElementaryTypeName","src":"68:6:0","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}}},{"constant":false,"documentation":{"id":4,"nodeType":"StructuredDocumentation","src":"81:48:0","text":"#if_updated forall(uint k in m) m[k][0] > 1;"},"id":10,"mutability":"mutable","name":"m","nameLocation":"175:1:0","nodeType":"VariableDeclaration","scope":44,"src":"138:38:0","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_mapping$_t_uint256_$_t_uint256_$_$","typeString":"mapping(uint256 => mapping(uint256 => uint256))"},"typeName":{"id":9,"keyType":{"id":5,"name":"uint","nodeType":"ElementaryTypeName","src":"146:4:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Mapping","src":"138:36:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_mapping$_t_uint256_$_t_uint256_$_$","typeString":"mapping(uint256 => mapping(uint256 => uint256))"},"valueType":{"id":8,"keyType":{"id":6,"name":"uint","nodeType":"ElementaryTypeName","src":"160:4:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Mapping","src":"152:21:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint256_$","typeString":"mapping(uint256 => uint256)"},"valueType":{"id":7,"name":"uint","nodeType":"ElementaryTypeName","src":"168:4:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}}},"visibility":"internal"},{"constant":false,"documentation":{"id":11,"nodeType":"StructuredDocumentation","src":"183:55:0","text":"#if_updated forall(CustomValueType t in _map) true;"},"id":16,"mutability":"mutable","name":"_map","nameLocation":"276:4:0","nodeType":"VariableDeclaration","scope":44,"src":"243:37:0","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_userDefinedValueType$_CustomValueType_$3_$_t_uint256_$","typeString":"mapping(Foo.CustomValueType => uint256)"},"typeName":{"id":15,"keyType":{"id":13,"nodeType":"UserDefinedTypeName","pathNode":{"id":12,"name":"CustomValueType","nodeType":"IdentifierPath","referencedDeclaration":3,"src":"251:15:0"},"referencedDeclaration":3,"src":"251:15:0","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_CustomValueType_$3","typeString":"Foo.CustomValueType"}},"nodeType":"Mapping","src":"243:32:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_userDefinedValueType$_CustomValueType_$3_$_t_uint256_$","typeString":"mapping(Foo.CustomValueType => uint256)"},"valueType":{"id":14,"name":"uint","nodeType":"ElementaryTypeName","src":"270:4:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}},"visibility":"internal"},{"body":{"id":27,"nodeType":"Block","src":"310:28:0","statements":[{"expression":{"id":25,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"baseExpression":{"id":19,"name":"m","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":10,"src":"320:1:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_mapping$_t_uint256_$_t_uint256_$_$","typeString":"mapping(uint256 => mapping(uint256 => uint256))"}},"id":22,"indexExpression":{"hexValue":"30","id":20,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"322:1:0","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"320:4:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint256_$","typeString":"mapping(uint256 => uint256)"}},"id":23,"indexExpression":{"hexValue":"31","id":21,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"325:1:0","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"320:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"hexValue":"31","id":24,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"330:1:0","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"320:11:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":26,"nodeType":"ExpressionStatement","src":"320:11:0"}]},"functionSelector":"dffeadd0","id":28,"implemented":true,"kind":"function","modifiers":[],"name":"main","nameLocation":"296:4:0","nodeType":"FunctionDefinition","parameters":{"id":17,"nodeType":"ParameterList","parameters":[],"src":"300:2:0"},"returnParameters":{"id":18,"nodeType":"ParameterList","parameters":[],"src":"310:0:0"},"scope":44,"src":"287:51:0","stateMutability":"nonpayable","virtual":false,"visibility":"public"},{"body":{"id":42,"nodeType":"Block","src":"394:28:0","statements":[{"expression":{"id":40,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":36,"name":"_map","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16,"src":"404:4:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_userDefinedValueType$_CustomValueType_$3_$_t_uint256_$","typeString":"mapping(Foo.CustomValueType => uint256)"}},"id":38,"indexExpression":{"id":37,"name":"t","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31,"src":"409:1:0","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_CustomValueType_$3","typeString":"Foo.CustomValueType"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"404:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":39,"name":"v","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":33,"src":"414:1:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"404:11:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":41,"nodeType":"ExpressionStatement","src":"404:11:0"}]},"functionSelector":"ffb292db","id":43,"implemented":true,"kind":"function","modifiers":[],"name":"some","nameLocation":"353:4:0","nodeType":"FunctionDefinition","parameters":{"id":34,"nodeType":"ParameterList","parameters":[{"constant":false,"id":31,"mutability":"mutable","name":"t","nameLocation":"374:1:0","nodeType":"VariableDeclaration","scope":43,"src":"358:17:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_CustomValueType_$3","typeString":"Foo.CustomValueType"},"typeName":{"id":30,"nodeType":"UserDefinedTypeName","pathNode":{"id":29,"name":"CustomValueType","nodeType":"IdentifierPath","referencedDeclaration":3,"src":"358:15:0"},"referencedDeclaration":3,"src":"358:15:0","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_CustomValueType_$3","typeString":"Foo.CustomValueType"}},"visibility":"internal"},{"constant":false,"id":33,"mutability":"mutable","name":"v","nameLocation":"382:1:0","nodeType":"VariableDeclaration","scope":43,"src":"377:6:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":32,"name":"uint","nodeType":"ElementaryTypeName","src":"377:4:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"357:27:0"},"returnParameters":{"id":35,"nodeType":"ParameterList","parameters":[],"src":"394:0:0"},"scope":44,"src":"344:78:0","stateMutability":"nonpayable","virtual":false,"visibility":"external"}],"scope":45,"src":"25:399:0","usedErrors":[]}],"src":"0:425:0","sourceEntryKey":"test/samples/forall_and_if_updated.sol"},"id":0,"source":"pragma solidity 0.8.10;\n\ncontract Foo {\n    type CustomValueType is uint32;\n\n    /// #if_updated forall(uint k in m) m[k][0] > 1;\n        mapping(uint=>mapping(uint => uint)) m;\n\n    /// #if_updated forall(CustomValueType t in _map) true;\n    mapping(CustomValueType => uint) _map;\n\n    function main() public {\n        m[0][1] = 1;\n    }\n\n    function some(CustomValueType t, uint v) external {\n        _map[t] = v;\n    }\n}\n"}},"compilerVersion":"0.8.10"}