{"sources":{"test/samples/if_succeeds_on_statement.sol":{"ast":{"absolutePath":"test/samples/if_succeeds_on_statement.sol","exportedSymbols":{"IfSucceedsOnStatement":[64]},"id":65,"nodeType":"SourceUnit","nodes":[{"id":1,"literals":["solidity","0.8",".11"],"nodeType":"PragmaDirective","src":"0:23:0"},{"abstract":false,"baseContracts":[],"canonicalName":"IfSucceedsOnStatement","contractDependencies":[],"contractKind":"contract","fullyImplemented":true,"id":64,"linearizedBaseContracts":[64],"name":"IfSucceedsOnStatement","nameLocation":"33:21:0","nodeType":"ContractDefinition","nodes":[{"body":{"id":31,"nodeType":"Block","src":"91:133:0","statements":[{"assignments":[10],"declarations":[{"constant":false,"id":10,"mutability":"mutable","name":"a","nameLocation":"109:1:0","nodeType":"VariableDeclaration","scope":31,"src":"95:15:0","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":8,"name":"uint","nodeType":"ElementaryTypeName","src":"95:4:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":9,"nodeType":"ArrayTypeName","src":"95:6:0","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"}],"id":11,"nodeType":"VariableDeclarationStatement","src":"95:15:0"},{"body":{"id":29,"nodeType":"Block","src":"149:72:0","statements":[{"documentation":"#if_succeeds old(a[i]) + amount == a[i];","expression":{"id":27,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":23,"name":"a","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":10,"src":"202:1:0","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":25,"indexExpression":{"id":24,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":13,"src":"204:1:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"202:4:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"+=","rightHandSide":{"id":26,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3,"src":"210:6:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"202:14:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":28,"nodeType":"ExpressionStatement","src":"202:14:0"}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":19,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":16,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":13,"src":"130:1:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"expression":{"id":17,"name":"a","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":10,"src":"134:1:0","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":18,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","src":"134:8:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"130:12:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":30,"initializationExpression":{"assignments":[13],"declarations":[{"constant":false,"id":13,"mutability":"mutable","name":"i","nameLocation":"123:1:0","nodeType":"VariableDeclaration","scope":30,"src":"118:6:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":12,"name":"uint","nodeType":"ElementaryTypeName","src":"118:4:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":15,"initialValue":{"hexValue":"30","id":14,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"127:1:0","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"118:10:0"},"loopExpression":{"expression":{"id":21,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"144:3:0","subExpression":{"id":20,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":13,"src":"144:1:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":22,"nodeType":"ExpressionStatement","src":"144:3:0"},"nodeType":"ForStatement","src":"114:107:0"}]},"functionSelector":"2fbebd38","id":32,"implemented":true,"kind":"function","modifiers":[],"name":"foo","nameLocation":"67:3:0","nodeType":"FunctionDefinition","parameters":{"id":4,"nodeType":"ParameterList","parameters":[{"constant":false,"id":3,"mutability":"mutable","name":"amount","nameLocation":"76:6:0","nodeType":"VariableDeclaration","scope":32,"src":"71:11:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2,"name":"uint","nodeType":"ElementaryTypeName","src":"71:4:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"70:13:0"},"returnParameters":{"id":5,"nodeType":"ParameterList","parameters":[],"src":"91:0:0"},"scope":64,"src":"58:166:0","stateMutability":"nonpayable","virtual":false,"visibility":"public"},{"body":{"id":62,"nodeType":"Block","src":"260:138:0","statements":[{"assignments":[41],"declarations":[{"constant":false,"id":41,"mutability":"mutable","name":"a","nameLocation":"278:1:0","nodeType":"VariableDeclaration","scope":62,"src":"264:15:0","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":39,"name":"uint","nodeType":"ElementaryTypeName","src":"264:4:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":40,"nodeType":"ArrayTypeName","src":"264:6:0","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"}],"id":42,"nodeType":"VariableDeclarationStatement","src":"264:15:0"},{"body":{"documentation":"#if_succeeds old(a[i]) + amount == a[i];","id":60,"nodeType":"Block","src":"367:28:0","statements":[{"expression":{"id":58,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":54,"name":"a","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":41,"src":"376:1:0","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":56,"indexExpression":{"id":55,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44,"src":"378:1:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"376:4:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"+=","rightHandSide":{"id":57,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34,"src":"384:6:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"376:14:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":59,"nodeType":"ExpressionStatement","src":"376:14:0"}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":50,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":47,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44,"src":"299:1:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"expression":{"id":48,"name":"a","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":41,"src":"303:1:0","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":49,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","src":"303:8:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"299:12:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":61,"initializationExpression":{"assignments":[44],"declarations":[{"constant":false,"id":44,"mutability":"mutable","name":"i","nameLocation":"292:1:0","nodeType":"VariableDeclaration","scope":61,"src":"287:6:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":43,"name":"uint","nodeType":"ElementaryTypeName","src":"287:4:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":46,"initialValue":{"hexValue":"30","id":45,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"296:1:0","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"287:10:0"},"loopExpression":{"expression":{"id":52,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"313:3:0","subExpression":{"id":51,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":44,"src":"313:1:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":53,"nodeType":"ExpressionStatement","src":"313:3:0"},"nodeType":"ForStatement","src":"283:112:0"}]},"functionSelector":"bfc2e3d5","id":63,"implemented":true,"kind":"function","modifiers":[],"name":"boo","nameLocation":"236:3:0","nodeType":"FunctionDefinition","parameters":{"id":35,"nodeType":"ParameterList","parameters":[{"constant":false,"id":34,"mutability":"mutable","name":"amount","nameLocation":"245:6:0","nodeType":"VariableDeclaration","scope":63,"src":"240:11:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":33,"name":"uint","nodeType":"ElementaryTypeName","src":"240:4:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"239:13:0"},"returnParameters":{"id":36,"nodeType":"ParameterList","parameters":[],"src":"260:0:0"},"scope":64,"src":"227:171:0","stateMutability":"nonpayable","virtual":false,"visibility":"public"}],"scope":65,"src":"24:376:0","usedErrors":[]}],"src":"0:401:0","sourceEntryKey":"test/samples/if_succeeds_on_statement.sol"},"id":0,"source":"pragma solidity 0.8.11;\ncontract IfSucceedsOnStatement {\n\tfunction foo(uint amount) public {\n\t\tuint[] memory a;\n\t\tfor(uint i = 0; i < a.length; i++) {\n\t\t\t/// #if_succeeds old(a[i]) + amount == a[i];\n\t\t\ta[i] += amount;\n\t\t}\n\t}\n\n\tfunction boo(uint amount) public {\n\t\tuint[] memory a;\n\t\tfor(uint i = 0; i < a.length; i++)\n\t\t/// #if_succeeds old(a[i]) + amount == a[i];\n\t\t{\n\t\t\t\n\t\t\ta[i] += amount;\n\t\t}\n\t}\n}\n"}},"compilerVersion":"0.8.11"}