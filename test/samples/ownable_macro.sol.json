{"sources":{"test/samples/ownable_macro.sol":{"ast":{"absolutePath":"test/samples/ownable_macro.sol","exportedSymbols":{"Ownable":[53],"Test":[56]},"id":57,"license":"UNLICENSED","nodeType":"SourceUnit","nodes":[{"id":1,"literals":["solidity","0.8",".10"],"nodeType":"PragmaDirective","src":"39:23:0"},{"abstract":false,"baseContracts":[],"canonicalName":"Ownable","contractDependencies":[],"contractKind":"contract","documentation":{"id":2,"nodeType":"StructuredDocumentation","src":"64:33:0","text":" #macro ownable(owner);"},"fullyImplemented":true,"id":53,"linearizedBaseContracts":[53],"name":"Ownable","nameLocation":"107:7:0","nodeType":"ContractDefinition","nodes":[{"constant":false,"functionSelector":"8da5cb5b","id":4,"mutability":"mutable","name":"owner","nameLocation":"136:5:0","nodeType":"VariableDeclaration","scope":53,"src":"121:20:0","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":3,"name":"address","nodeType":"ElementaryTypeName","src":"121:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"public"},{"anonymous":false,"id":10,"name":"OwnershipTransferred","nameLocation":"154:20:0","nodeType":"EventDefinition","parameters":{"id":9,"nodeType":"ParameterList","parameters":[{"constant":false,"id":6,"indexed":true,"mutability":"mutable","name":"from","nameLocation":"191:4:0","nodeType":"VariableDeclaration","scope":10,"src":"175:20:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":5,"name":"address","nodeType":"ElementaryTypeName","src":"175:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":8,"indexed":true,"mutability":"mutable","name":"to","nameLocation":"213:2:0","nodeType":"VariableDeclaration","scope":10,"src":"197:18:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":7,"name":"address","nodeType":"ElementaryTypeName","src":"197:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"174:42:0"},"src":"148:69:0"},{"body":{"id":18,"nodeType":"Block","src":"237:46:0","statements":[{"expression":{"arguments":[{"expression":{"id":14,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"265:3:0","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":15,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","src":"265:10:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":13,"name":"transferOwnership","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52,"src":"247:17:0","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$returns$__$","typeString":"function (address)"}},"id":16,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"247:29:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":17,"nodeType":"ExpressionStatement","src":"247:29:0"}]},"id":19,"implemented":true,"kind":"constructor","modifiers":[],"name":"","nameLocation":"-1:-1:-1","nodeType":"FunctionDefinition","parameters":{"id":11,"nodeType":"ParameterList","parameters":[],"src":"234:2:0"},"returnParameters":{"id":12,"nodeType":"ParameterList","parameters":[],"src":"237:0:0"},"scope":53,"src":"223:60:0","stateMutability":"nonpayable","virtual":false,"visibility":"public"},{"body":{"id":30,"nodeType":"Block","src":"310:109:0","statements":[{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":25,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":22,"name":"owner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4,"src":"328:5:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"id":23,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"337:3:0","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":24,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","src":"337:10:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"328:19:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"4f776e61626c653a206d6573736167652073656e646572206973206e6f74207468652063757272656e74206f776e6572","id":26,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"349:50:0","typeDescriptions":{"typeIdentifier":"t_stringliteral_f06828aec129cdf6d59ba20a28fca5c4fe97e8357d22b1a8f00a50531af53d47","typeString":"literal_string \"Ownable: message sender is not the current owner\""},"value":"Ownable: message sender is not the current owner"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_f06828aec129cdf6d59ba20a28fca5c4fe97e8357d22b1a8f00a50531af53d47","typeString":"literal_string \"Ownable: message sender is not the current owner\""}],"id":21,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"320:7:0","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":27,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"320:80:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":28,"nodeType":"ExpressionStatement","src":"320:80:0"},{"id":29,"nodeType":"PlaceholderStatement","src":"411:1:0"}]},"id":31,"name":"onlyOwner","nameLocation":"298:9:0","nodeType":"ModifierDefinition","parameters":{"id":20,"nodeType":"ParameterList","parameters":[],"src":"307:2:0"},"src":"289:130:0","virtual":false,"visibility":"internal"},{"body":{"id":51,"nodeType":"Block","src":"489:104:0","statements":[{"assignments":[39],"declarations":[{"constant":false,"id":39,"mutability":"mutable","name":"from","nameLocation":"507:4:0","nodeType":"VariableDeclaration","scope":51,"src":"499:12:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":38,"name":"address","nodeType":"ElementaryTypeName","src":"499:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"id":41,"initialValue":{"id":40,"name":"owner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4,"src":"514:5:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"VariableDeclarationStatement","src":"499:20:0"},{"expression":{"id":44,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":42,"name":"owner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4,"src":"530:5:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":43,"name":"to","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":33,"src":"538:2:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"530:10:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":45,"nodeType":"ExpressionStatement","src":"530:10:0"},{"eventCall":{"arguments":[{"id":47,"name":"from","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39,"src":"577:4:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":48,"name":"to","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":33,"src":"583:2:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"}],"id":46,"name":"OwnershipTransferred","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":10,"src":"556:20:0","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_address_$returns$__$","typeString":"function (address,address)"}},"id":49,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"556:30:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":50,"nodeType":"EmitStatement","src":"551:35:0"}]},"functionSelector":"f2fde38b","id":52,"implemented":true,"kind":"function","modifiers":[{"id":36,"kind":"modifierInvocation","modifierName":{"id":35,"name":"onlyOwner","nodeType":"IdentifierPath","referencedDeclaration":31,"src":"479:9:0"},"nodeType":"ModifierInvocation","src":"479:9:0"}],"name":"transferOwnership","nameLocation":"434:17:0","nodeType":"FunctionDefinition","parameters":{"id":34,"nodeType":"ParameterList","parameters":[{"constant":false,"id":33,"mutability":"mutable","name":"to","nameLocation":"460:2:0","nodeType":"VariableDeclaration","scope":52,"src":"452:10:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":32,"name":"address","nodeType":"ElementaryTypeName","src":"452:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"451:12:0"},"returnParameters":{"id":37,"nodeType":"ParameterList","parameters":[],"src":"489:0:0"},"scope":53,"src":"425:168:0","stateMutability":"nonpayable","virtual":true,"visibility":"public"}],"scope":57,"src":"98:497:0","usedErrors":[]},{"abstract":false,"baseContracts":[{"baseName":{"id":54,"name":"Ownable","nodeType":"IdentifierPath","referencedDeclaration":53,"src":"614:7:0"},"id":55,"nodeType":"InheritanceSpecifier","src":"614:7:0"}],"canonicalName":"Test","contractDependencies":[],"contractKind":"contract","fullyImplemented":true,"id":56,"linearizedBaseContracts":[56,53],"name":"Test","nameLocation":"606:4:0","nodeType":"ContractDefinition","nodes":[],"scope":57,"src":"597:27:0","usedErrors":[]}],"src":"39:586:0","sourceEntryKey":"test/samples/ownable_macro.sol"},"id":0,"source":"// SPDX-License-Identifier: UNLICENSED\npragma solidity 0.8.10;\n\n/**\n * #macro ownable(owner);\n */\ncontract Ownable {\n    address public owner;\n\n    event OwnershipTransferred(address indexed from, address indexed to);\n\n    constructor() {\n        transferOwnership(msg.sender);\n    }\n\n    modifier onlyOwner() {\n        require(owner == msg.sender, \"Ownable: message sender is not the current owner\");\n\n        _;\n    }\n\n    function transferOwnership(address to) public virtual onlyOwner {\n        address from = owner;\n\n        owner = to;\n\n        emit OwnershipTransferred(from, to);\n    }\n}\n\ncontract Test is Ownable {}\n"}},"compilerVersion":"0.8.10"}