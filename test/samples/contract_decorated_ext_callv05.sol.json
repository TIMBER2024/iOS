{"sources":{"test/samples/contract_decorated_ext_callv05.sol":{"ast":{"absolutePath":"test/samples/contract_decorated_ext_callv05.sol","exportedSymbols":{"Foo":[88]},"id":89,"nodeType":"SourceUnit","nodes":[{"id":1,"literals":["solidity","0.5",".10"],"nodeType":"PragmaDirective","src":"0:23:0"},{"baseContracts":[],"contractDependencies":[],"contractKind":"contract","documentation":"#invariant {:msg \"\"} x>0;","fullyImplemented":true,"id":88,"linearizedBaseContracts":[88],"name":"Foo","nodeType":"ContractDefinition","nodes":[{"constant":false,"id":4,"name":"x","nodeType":"VariableDeclaration","scope":88,"src":"73:9:0","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":2,"name":"int","nodeType":"ElementaryTypeName","src":"73:3:0","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"value":{"argumentTypes":null,"hexValue":"31","id":3,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"81:1:0","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"visibility":"internal"},{"body":{"id":10,"nodeType":"Block","src":"118:20:0","statements":[{"expression":{"argumentTypes":null,"id":8,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"128:3:0","subExpression":{"argumentTypes":null,"id":7,"name":"x","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4,"src":"128:1:0","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":9,"nodeType":"ExpressionStatement","src":"128:3:0"}]},"documentation":null,"id":11,"implemented":true,"kind":"function","modifiers":[],"name":"inc","nodeType":"FunctionDefinition","parameters":{"id":5,"nodeType":"ParameterList","parameters":[],"src":"100:2:0"},"returnParameters":{"id":6,"nodeType":"ParameterList","parameters":[],"src":"118:0:0"},"scope":88,"src":"88:50:0","stateMutability":"payable","superFunction":null,"visibility":"public"},{"body":{"id":56,"nodeType":"Block","src":"173:266:0","statements":[{"expression":{"argumentTypes":null,"id":16,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":14,"name":"x","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4,"src":"183:1:0","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"hexValue":"30","id":15,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"187:1:0","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"183:5:0","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":17,"nodeType":"ExpressionStatement","src":"183:5:0"},{"expression":{"argumentTypes":null,"arguments":[],"expression":{"argumentTypes":[],"arguments":[{"argumentTypes":null,"hexValue":"30","id":23,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"251:1:0","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"expression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":18,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":117,"src":"236:4:0","typeDescriptions":{"typeIdentifier":"t_contract$_Foo_$88","typeString":"contract Foo"}},"id":21,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"inc","nodeType":"MemberAccess","referencedDeclaration":11,"src":"236:8:0","typeDescriptions":{"typeIdentifier":"t_function_external_payable$__$returns$__$","typeString":"function () payable external"}},"id":22,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"value","nodeType":"MemberAccess","referencedDeclaration":null,"src":"236:14:0","typeDescriptions":{"typeIdentifier":"t_function_setvalue_pure$_t_uint256_$returns$_t_function_external_payable$__$returns$__$value_$","typeString":"function (uint256) pure returns (function () payable external)"}},"id":24,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"236:17:0","typeDescriptions":{"typeIdentifier":"t_function_external_payable$__$returns$__$value","typeString":"function () payable external"}},"id":25,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"236:19:0","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":26,"nodeType":"ExpressionStatement","src":"236:19:0"},{"expression":{"argumentTypes":null,"id":29,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":27,"name":"x","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4,"src":"265:1:0","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"hexValue":"30","id":28,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"269:1:0","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"265:5:0","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":30,"nodeType":"ExpressionStatement","src":"265:5:0"},{"expression":{"argumentTypes":null,"arguments":[],"expression":{"argumentTypes":[],"arguments":[{"argumentTypes":null,"hexValue":"3130303030","id":36,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"331:5:0","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_10000_by_1","typeString":"int_const 10000"},"value":"10000"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_10000_by_1","typeString":"int_const 10000"}],"expression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":31,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":117,"src":"318:4:0","typeDescriptions":{"typeIdentifier":"t_contract$_Foo_$88","typeString":"contract Foo"}},"id":34,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"inc","nodeType":"MemberAccess","referencedDeclaration":11,"src":"318:8:0","typeDescriptions":{"typeIdentifier":"t_function_external_payable$__$returns$__$","typeString":"function () payable external"}},"id":35,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"gas","nodeType":"MemberAccess","referencedDeclaration":null,"src":"318:12:0","typeDescriptions":{"typeIdentifier":"t_function_setgas_pure$_t_uint256_$returns$_t_function_external_payable$__$returns$__$gas_$","typeString":"function (uint256) pure returns (function () payable external)"}},"id":37,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"318:19:0","typeDescriptions":{"typeIdentifier":"t_function_external_payable$__$returns$__$gas","typeString":"function () payable external"}},"id":38,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"318:21:0","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":39,"nodeType":"ExpressionStatement","src":"318:21:0"},{"expression":{"argumentTypes":null,"id":42,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":40,"name":"x","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4,"src":"349:1:0","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"hexValue":"30","id":41,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"353:1:0","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"349:5:0","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":43,"nodeType":"ExpressionStatement","src":"349:5:0"},{"expression":{"argumentTypes":null,"arguments":[],"expression":{"argumentTypes":[],"arguments":[{"argumentTypes":null,"hexValue":"3130303030","id":52,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"424:5:0","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_10000_by_1","typeString":"int_const 10000"},"value":"10000"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_10000_by_1","typeString":"int_const 10000"}],"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"hexValue":"30","id":49,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"417:1:0","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"expression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":44,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":117,"src":"402:4:0","typeDescriptions":{"typeIdentifier":"t_contract$_Foo_$88","typeString":"contract Foo"}},"id":47,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"inc","nodeType":"MemberAccess","referencedDeclaration":11,"src":"402:8:0","typeDescriptions":{"typeIdentifier":"t_function_external_payable$__$returns$__$","typeString":"function () payable external"}},"id":48,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"value","nodeType":"MemberAccess","referencedDeclaration":null,"src":"402:14:0","typeDescriptions":{"typeIdentifier":"t_function_setvalue_pure$_t_uint256_$returns$_t_function_external_payable$__$returns$__$value_$","typeString":"function (uint256) pure returns (function () payable external)"}},"id":50,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"402:17:0","typeDescriptions":{"typeIdentifier":"t_function_external_payable$__$returns$__$value","typeString":"function () payable external"}},"id":51,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"gas","nodeType":"MemberAccess","referencedDeclaration":null,"src":"402:21:0","typeDescriptions":{"typeIdentifier":"t_function_setgas_pure$_t_uint256_$returns$_t_function_external_payable$__$returns$__$gasvalue_$value","typeString":"function (uint256) pure returns (function () payable external)"}},"id":53,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"402:28:0","typeDescriptions":{"typeIdentifier":"t_function_external_payable$__$returns$__$gasvalue","typeString":"function () payable external"}},"id":54,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"402:30:0","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":55,"nodeType":"ExpressionStatement","src":"402:30:0"}]},"documentation":null,"id":57,"implemented":true,"kind":"function","modifiers":[],"name":"fail_int","nodeType":"FunctionDefinition","parameters":{"id":12,"nodeType":"ParameterList","parameters":[],"src":"161:2:0"},"returnParameters":{"id":13,"nodeType":"ParameterList","parameters":[],"src":"173:0:0"},"scope":88,"src":"144:295:0","stateMutability":"nonpayable","superFunction":null,"visibility":"internal"},{"body":{"id":63,"nodeType":"Block","src":"468:27:0","statements":[{"expression":{"argumentTypes":null,"arguments":[],"expression":{"argumentTypes":[],"id":60,"name":"fail_int","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":57,"src":"478:8:0","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$__$returns$__$","typeString":"function ()"}},"id":61,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"478:10:0","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":62,"nodeType":"ExpressionStatement","src":"478:10:0"}]},"documentation":null,"id":64,"implemented":true,"kind":"function","modifiers":[],"name":"fail","nodeType":"FunctionDefinition","parameters":{"id":58,"nodeType":"ParameterList","parameters":[],"src":"458:2:0"},"returnParameters":{"id":59,"nodeType":"ParameterList","parameters":[],"src":"468:0:0"},"scope":88,"src":"445:50:0","stateMutability":"nonpayable","superFunction":null,"visibility":"public"},{"body":{"id":86,"nodeType":"Block","src":"540:113:0","statements":[{"assignments":[70,72],"declarations":[{"constant":false,"id":70,"name":"success","nodeType":"VariableDeclaration","scope":86,"src":"551:12:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":69,"name":"bool","nodeType":"ElementaryTypeName","src":"551:4:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"value":null,"visibility":"internal"},{"constant":false,"id":72,"name":"retval","nodeType":"VariableDeclaration","scope":86,"src":"565:19:0","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":71,"name":"bytes","nodeType":"ElementaryTypeName","src":"565:5:0","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"value":null,"visibility":"internal"}],"id":81,"initialValue":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"hexValue":"","id":79,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"619:2:0","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470","typeString":"literal_string \"\""},"value":""}],"expression":{"argumentTypes":[{"typeIdentifier":"t_stringliteral_c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470","typeString":"literal_string \"\""}],"arguments":[{"argumentTypes":null,"id":77,"name":"_amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":66,"src":"610:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"expression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":73,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":103,"src":"588:3:0","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":74,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"588:10:0","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"id":75,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"call","nodeType":"MemberAccess","referencedDeclaration":null,"src":"588:15:0","typeDescriptions":{"typeIdentifier":"t_function_barecall_payable$_t_bytes_memory_ptr_$returns$_t_bool_$_t_bytes_memory_ptr_$","typeString":"function (bytes memory) payable returns (bool,bytes memory)"}},"id":76,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"value","nodeType":"MemberAccess","referencedDeclaration":null,"src":"588:21:0","typeDescriptions":{"typeIdentifier":"t_function_setvalue_pure$_t_uint256_$returns$_t_function_barecall_payable$_t_bytes_memory_ptr_$returns$_t_bool_$_t_bytes_memory_ptr_$value_$","typeString":"function (uint256) pure returns (function (bytes memory) payable returns (bool,bytes memory))"}},"id":78,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"588:30:0","typeDescriptions":{"typeIdentifier":"t_function_barecall_payable$_t_bytes_memory_ptr_$returns$_t_bool_$_t_bytes_memory_ptr_$value","typeString":"function (bytes memory) payable returns (bool,bytes memory)"}},"id":80,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"588:34:0","typeDescriptions":{"typeIdentifier":"t_tuple$_t_bool_$_t_bytes_memory_ptr_$","typeString":"tuple(bool,bytes memory)"}},"nodeType":"VariableDeclarationStatement","src":"550:72:0"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":83,"name":"success","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":70,"src":"640:7:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":82,"name":"require","nodeType":"Identifier","overloadedDeclarations":[106,107],"referencedDeclaration":106,"src":"632:7:0","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":84,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"632:16:0","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":85,"nodeType":"ExpressionStatement","src":"632:16:0"}]},"documentation":null,"id":87,"implemented":true,"kind":"function","modifiers":[],"name":"withdraw","nodeType":"FunctionDefinition","parameters":{"id":67,"nodeType":"ParameterList","parameters":[{"constant":false,"id":66,"name":"_amount","nodeType":"VariableDeclaration","scope":87,"src":"519:12:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":65,"name":"uint","nodeType":"ElementaryTypeName","src":"519:4:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"518:14:0"},"returnParameters":{"id":68,"nodeType":"ParameterList","parameters":[],"src":"540:0:0"},"scope":88,"src":"501:152:0","stateMutability":"nonpayable","superFunction":null,"visibility":"public"}],"scope":89,"src":"54:601:0"}],"src":"0:656:0","sourceEntryKey":"test/samples/contract_decorated_ext_callv05.sol"},"id":0,"source":"pragma solidity 0.5.10;\n/// #invariant {:msg \"\"} x>0;\ncontract Foo {\n    int x = 1;\n    function inc() public payable {\n        x++;\n    }\n\n    function fail_int() internal {\n        x = 0;\n        // Should detect failure here\n        this.inc.value(0)();\n        x = 0;\n        // Should detect failure here\n        this.inc.gas(10000)();\n        x = 0;\n        // Should detect failure here\n        this.inc.value(0).gas(10000)();\n    }\n\n    function fail() public {\n        fail_int();\n    }\n\n    function withdraw(uint _amount) public {\n        (bool success, bytes memory retval) = msg.sender.call.value(_amount)(\"\");\n        require(success);\n  }\n}\n"}},"compilerVersion":"0.5.10"}