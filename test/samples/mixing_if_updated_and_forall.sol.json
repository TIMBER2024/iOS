{"sources":{"test/samples/mixing_if_updated_and_forall.sol":{"ast":{"absolutePath":"test/samples/mixing_if_updated_and_forall.sol","exportedSymbols":{"Foo":[61]},"id":62,"nodeType":"SourceUnit","nodes":[{"id":1,"literals":["solidity","0.8",".10"],"nodeType":"PragmaDirective","src":"0:23:0"},{"abstract":false,"baseContracts":[],"canonicalName":"Foo","contractDependencies":[],"contractKind":"contract","fullyImplemented":true,"id":61,"linearizedBaseContracts":[61],"name":"Foo","nameLocation":"33:3:0","nodeType":"ContractDefinition","nodes":[{"constant":false,"documentation":{"id":2,"nodeType":"StructuredDocumentation","src":"43:45:0","text":"#if_updated forall(uint i in m) m[i] > 0;"},"id":6,"mutability":"mutable","name":"m","nameLocation":"113:1:0","nodeType":"VariableDeclaration","scope":61,"src":"93:21:0","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint256_$","typeString":"mapping(uint256 => uint256)"},"typeName":{"id":5,"keyType":{"id":3,"name":"uint","nodeType":"ElementaryTypeName","src":"101:4:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Mapping","src":"93:19:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint256_$","typeString":"mapping(uint256 => uint256)"},"valueType":{"id":4,"name":"uint","nodeType":"ElementaryTypeName","src":"107:4:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}},"visibility":"internal"},{"constant":false,"documentation":{"id":7,"nodeType":"StructuredDocumentation","src":"121:162:0","text":"#if_updated m1[address(0x0)][\"abcd\"] < 5;\n #if_assigned false;\n #if_assigned[addr] false;\n #if_assigned[addr][str] addr == address(0x0); "},"id":13,"mutability":"mutable","name":"m1","nameLocation":"332:2:0","nodeType":"VariableDeclaration","scope":61,"src":"288:46:0","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_mapping$_t_string_memory_ptr_$_t_uint256_$_$","typeString":"mapping(address => mapping(string => uint256))"},"typeName":{"id":12,"keyType":{"id":8,"name":"address","nodeType":"ElementaryTypeName","src":"296:7:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Mapping","src":"288:43:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_mapping$_t_string_memory_ptr_$_t_uint256_$_$","typeString":"mapping(address => mapping(string => uint256))"},"valueType":{"id":11,"keyType":{"id":9,"name":"string","nodeType":"ElementaryTypeName","src":"315:6:0","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"nodeType":"Mapping","src":"307:23:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_string_memory_ptr_$_t_uint256_$","typeString":"mapping(string => uint256)"},"valueType":{"id":10,"name":"uint","nodeType":"ElementaryTypeName","src":"325:4:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}}},"visibility":"internal"},{"body":{"id":32,"nodeType":"Block","src":"399:50:0","statements":[{"expression":{"id":26,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":22,"name":"m","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":6,"src":"409:1:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint256_$","typeString":"mapping(uint256 => uint256)"}},"id":24,"indexExpression":{"id":23,"name":"pos","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15,"src":"411:3:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"409:6:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":25,"name":"v","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17,"src":"418:1:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"409:10:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":27,"nodeType":"ExpressionStatement","src":"409:10:0"},{"expression":{"baseExpression":{"id":28,"name":"m","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":6,"src":"436:1:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint256_$","typeString":"mapping(uint256 => uint256)"}},"id":30,"indexExpression":{"id":29,"name":"pos","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15,"src":"438:3:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"436:6:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":21,"id":31,"nodeType":"Return","src":"429:13:0"}]},"functionSelector":"94723b3d","id":33,"implemented":true,"kind":"function","modifiers":[],"name":"assign_m","nameLocation":"350:8:0","nodeType":"FunctionDefinition","parameters":{"id":18,"nodeType":"ParameterList","parameters":[{"constant":false,"id":15,"mutability":"mutable","name":"pos","nameLocation":"364:3:0","nodeType":"VariableDeclaration","scope":33,"src":"359:8:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":14,"name":"uint","nodeType":"ElementaryTypeName","src":"359:4:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":17,"mutability":"mutable","name":"v","nameLocation":"374:1:0","nodeType":"VariableDeclaration","scope":33,"src":"369:6:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":16,"name":"uint","nodeType":"ElementaryTypeName","src":"369:4:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"358:18:0"},"returnParameters":{"id":21,"nodeType":"ParameterList","parameters":[{"constant":false,"id":20,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":33,"src":"393:4:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":19,"name":"uint","nodeType":"ElementaryTypeName","src":"393:4:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"392:6:0"},"scope":61,"src":"341:108:0","stateMutability":"nonpayable","virtual":false,"visibility":"public"},{"body":{"id":59,"nodeType":"Block","src":"626:54:0","statements":[{"expression":{"id":51,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"baseExpression":{"id":45,"name":"m1","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":13,"src":"636:2:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_mapping$_t_string_memory_ptr_$_t_uint256_$_$","typeString":"mapping(address => mapping(string memory => uint256))"}},"id":48,"indexExpression":{"id":46,"name":"a","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36,"src":"639:1:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"636:5:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_string_memory_ptr_$_t_uint256_$","typeString":"mapping(string memory => uint256)"}},"id":49,"indexExpression":{"id":47,"name":"s","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":38,"src":"642:1:0","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"636:8:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":50,"name":"v","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40,"src":"647:1:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"636:12:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":52,"nodeType":"ExpressionStatement","src":"636:12:0"},{"expression":{"baseExpression":{"baseExpression":{"id":53,"name":"m1","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":13,"src":"665:2:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_mapping$_t_string_memory_ptr_$_t_uint256_$_$","typeString":"mapping(address => mapping(string memory => uint256))"}},"id":55,"indexExpression":{"id":54,"name":"a","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36,"src":"668:1:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"665:5:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_string_memory_ptr_$_t_uint256_$","typeString":"mapping(string memory => uint256)"}},"id":57,"indexExpression":{"id":56,"name":"s","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":38,"src":"671:1:0","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"665:8:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":44,"id":58,"nodeType":"Return","src":"658:15:0"}]},"documentation":{"id":34,"nodeType":"StructuredDocumentation","src":"455:89:0","text":"#if_succeeds forall (address a in m1) forall (string memory s in m1[a]) m1[a][s] > 1;"},"functionSelector":"0456c39d","id":60,"implemented":true,"kind":"function","modifiers":[],"name":"assign_m1","nameLocation":"558:9:0","nodeType":"FunctionDefinition","parameters":{"id":41,"nodeType":"ParameterList","parameters":[{"constant":false,"id":36,"mutability":"mutable","name":"a","nameLocation":"576:1:0","nodeType":"VariableDeclaration","scope":60,"src":"568:9:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":35,"name":"address","nodeType":"ElementaryTypeName","src":"568:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":38,"mutability":"mutable","name":"s","nameLocation":"593:1:0","nodeType":"VariableDeclaration","scope":60,"src":"579:15:0","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string"},"typeName":{"id":37,"name":"string","nodeType":"ElementaryTypeName","src":"579:6:0","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"visibility":"internal"},{"constant":false,"id":40,"mutability":"mutable","name":"v","nameLocation":"601:1:0","nodeType":"VariableDeclaration","scope":60,"src":"596:6:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":39,"name":"uint","nodeType":"ElementaryTypeName","src":"596:4:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"567:36:0"},"returnParameters":{"id":44,"nodeType":"ParameterList","parameters":[{"constant":false,"id":43,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":60,"src":"620:4:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":42,"name":"uint","nodeType":"ElementaryTypeName","src":"620:4:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"619:6:0"},"scope":61,"src":"549:131:0","stateMutability":"nonpayable","virtual":false,"visibility":"public"}],"scope":62,"src":"24:659:0","usedErrors":[]}],"src":"0:684:0","sourceEntryKey":"test/samples/mixing_if_updated_and_forall.sol"},"id":0,"source":"pragma solidity 0.8.10;\ncontract Foo {\n    /// #if_updated forall(uint i in m) m[i] > 0;\n    mapping(uint=>uint) m;\n\n    /// #if_updated m1[address(0x0)][\"abcd\"] < 5;\n    /// #if_assigned false;\n    /// #if_assigned[addr] false;\n    /// #if_assigned[addr][str] addr == address(0x0); \n    mapping(address => mapping(string => uint)) m1;\n\n    function assign_m(uint pos, uint v) public returns (uint) {\n        m[pos] = v;\n        return m[pos];\n    }\n\n    /// #if_succeeds forall (address a in m1) forall (string memory s in m1[a]) m1[a][s] > 1;\n    function assign_m1(address a, string memory s, uint v) public returns (uint) {\n        m1[a][s] = v;\n        return m1[a][s];\n    }\n\n}\n"}},"compilerVersion":"0.8.10"}