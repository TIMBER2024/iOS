{"sources":{"test/samples/if_updated_inline_initializers.sol":{"ast":{"absolutePath":"test/samples/if_updated_inline_initializers.sol","exportedSymbols":{"Base":[43],"Child":[79]},"id":80,"nodeType":"SourceUnit","nodes":[{"id":1,"literals":["solidity","0.8",".7"],"nodeType":"PragmaDirective","src":"0:22:0"},{"abstract":false,"baseContracts":[],"contractDependencies":[],"contractKind":"contract","fullyImplemented":true,"id":43,"linearizedBaseContracts":[43],"name":"Base","nameLocation":"33:4:0","nodeType":"ContractDefinition","nodes":[{"constant":false,"id":3,"mutability":"mutable","name":"x","nameLocation":"77:1:0","nodeType":"VariableDeclaration","scope":43,"src":"72:6:0","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2,"name":"uint","nodeType":"ElementaryTypeName","src":"72:4:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":8,"mutability":"mutable","name":"arr","nameLocation":"122:3:0","nodeType":"VariableDeclaration","scope":43,"src":"115:16:0","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage","typeString":"uint256[]"},"typeName":{"baseType":{"id":4,"name":"uint","nodeType":"ElementaryTypeName","src":"115:4:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":5,"nodeType":"ArrayTypeName","src":"115:6:0","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"value":{"components":[{"hexValue":"31","id":6,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"129:1:0","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"}],"id":7,"isConstant":false,"isInlineArray":true,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"TupleExpression","src":"128:3:0","typeDescriptions":{"typeIdentifier":"t_array$_t_uint8_$1_memory_ptr","typeString":"uint8[1] memory"}},"visibility":"internal"},{"constant":false,"id":19,"mutability":"mutable","name":"arr2","nameLocation":"179:4:0","nodeType":"VariableDeclaration","scope":43,"src":"170:30:0","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_array$_t_array$_t_uint256_$dyn_storage_$dyn_storage","typeString":"uint256[][]"},"typeName":{"baseType":{"baseType":{"id":9,"name":"uint","nodeType":"ElementaryTypeName","src":"170:4:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":10,"nodeType":"ArrayTypeName","src":"170:6:0","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"id":11,"nodeType":"ArrayTypeName","src":"170:8:0","typeDescriptions":{"typeIdentifier":"t_array$_t_array$_t_uint256_$dyn_storage_$dyn_storage_ptr","typeString":"uint256[][]"}},"value":{"components":[{"components":[{"hexValue":"31","id":12,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"188:1:0","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},{"hexValue":"32","id":13,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"190:1:0","typeDescriptions":{"typeIdentifier":"t_rational_2_by_1","typeString":"int_const 2"},"value":"2"}],"id":14,"isConstant":false,"isInlineArray":true,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"TupleExpression","src":"187:5:0","typeDescriptions":{"typeIdentifier":"t_array$_t_uint8_$2_memory_ptr","typeString":"uint8[2] memory"}},{"components":[{"hexValue":"33","id":15,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"195:1:0","typeDescriptions":{"typeIdentifier":"t_rational_3_by_1","typeString":"int_const 3"},"value":"3"},{"hexValue":"34","id":16,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"197:1:0","typeDescriptions":{"typeIdentifier":"t_rational_4_by_1","typeString":"int_const 4"},"value":"4"}],"id":17,"isConstant":false,"isInlineArray":true,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"TupleExpression","src":"194:5:0","typeDescriptions":{"typeIdentifier":"t_array$_t_uint8_$2_memory_ptr","typeString":"uint8[2] memory"}}],"id":18,"isConstant":false,"isInlineArray":true,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"TupleExpression","src":"186:14:0","typeDescriptions":{"typeIdentifier":"t_array$_t_array$_t_uint8_$2_memory_ptr_$2_memory_ptr","typeString":"uint8[2] memory[2] memory"}},"visibility":"internal"},{"canonicalName":"Base.S","id":27,"members":[{"constant":false,"id":22,"mutability":"mutable","name":"arr","nameLocation":"224:3:0","nodeType":"VariableDeclaration","scope":27,"src":"217:10:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":20,"name":"uint","nodeType":"ElementaryTypeName","src":"217:4:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":21,"nodeType":"ArrayTypeName","src":"217:6:0","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"},{"constant":false,"id":26,"mutability":"mutable","name":"arr2","nameLocation":"240:4:0","nodeType":"VariableDeclaration","scope":27,"src":"231:13:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_array$_t_array$_t_uint256_$dyn_storage_$dyn_storage_ptr","typeString":"uint256[][]"},"typeName":{"baseType":{"baseType":{"id":23,"name":"uint","nodeType":"ElementaryTypeName","src":"231:4:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":24,"nodeType":"ArrayTypeName","src":"231:6:0","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"id":25,"nodeType":"ArrayTypeName","src":"231:8:0","typeDescriptions":{"typeIdentifier":"t_array$_t_array$_t_uint256_$dyn_storage_$dyn_storage_ptr","typeString":"uint256[][]"}},"visibility":"internal"}],"name":"S","nameLocation":"211:1:0","nodeType":"StructDefinition","scope":43,"src":"204:44:0","visibility":"public"},{"constant":false,"id":34,"mutability":"mutable","name":"s","nameLocation":"289:1:0","nodeType":"VariableDeclaration","scope":43,"src":"287:30:0","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_struct$_S_$27_storage","typeString":"struct Base.S"},"typeName":{"id":29,"nodeType":"UserDefinedTypeName","pathNode":{"id":28,"name":"S","nodeType":"IdentifierPath","referencedDeclaration":27,"src":"287:1:0"},"referencedDeclaration":27,"src":"287:1:0","typeDescriptions":{"typeIdentifier":"t_struct$_S_$27_storage_ptr","typeString":"struct Base.S"}},"value":{"arguments":[{"id":31,"name":"arr","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8,"src":"300:3:0","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage","typeString":"uint256[] storage ref"}},{"id":32,"name":"arr2","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":19,"src":"311:4:0","typeDescriptions":{"typeIdentifier":"t_array$_t_array$_t_uint256_$dyn_storage_$dyn_storage","typeString":"uint256[] storage ref[] storage ref"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_array$_t_uint256_$dyn_storage","typeString":"uint256[] storage ref"},{"typeIdentifier":"t_array$_t_array$_t_uint256_$dyn_storage_$dyn_storage","typeString":"uint256[] storage ref[] storage ref"}],"id":30,"name":"S","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":27,"src":"293:1:0","typeDescriptions":{"typeIdentifier":"t_type$_t_struct$_S_$27_storage_ptr_$","typeString":"type(struct Base.S storage pointer)"}},"id":33,"isConstant":false,"isLValue":false,"isPure":false,"kind":"structConstructorCall","lValueRequested":false,"names":["arr","arr2"],"nodeType":"FunctionCall","src":"293:24:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_S_$27_memory_ptr","typeString":"struct Base.S memory"}},"visibility":"internal"},{"body":{"id":41,"nodeType":"Block","src":"335:13:0","statements":[{"expression":{"id":39,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":37,"name":"x","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3,"src":"339:1:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"hexValue":"31","id":38,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"343:1:0","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"339:5:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":40,"nodeType":"ExpressionStatement","src":"339:5:0"}]},"id":42,"implemented":true,"kind":"constructor","modifiers":[],"name":"","nameLocation":"-1:-1:-1","nodeType":"FunctionDefinition","parameters":{"id":35,"nodeType":"ParameterList","parameters":[],"src":"332:2:0"},"returnParameters":{"id":36,"nodeType":"ParameterList","parameters":[],"src":"335:0:0"},"scope":43,"src":"321:27:0","stateMutability":"nonpayable","virtual":false,"visibility":"public"}],"scope":80,"src":"24:326:0","usedErrors":[]},{"abstract":false,"baseContracts":[{"baseName":{"id":44,"name":"Base","nodeType":"IdentifierPath","referencedDeclaration":43,"src":"370:4:0"},"id":45,"nodeType":"InheritanceSpecifier","src":"370:4:0"}],"contractDependencies":[],"contractKind":"contract","fullyImplemented":true,"id":79,"linearizedBaseContracts":[79,43],"name":"Child","nameLocation":"361:5:0","nodeType":"ContractDefinition","nodes":[{"body":{"id":77,"nodeType":"Block","src":"399:79:0","statements":[{"expression":{"id":50,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":48,"name":"x","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3,"src":"403:1:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"hexValue":"34","id":49,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"407:1:0","typeDescriptions":{"typeIdentifier":"t_rational_4_by_1","typeString":"int_const 4"},"value":"4"},"src":"403:5:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":51,"nodeType":"ExpressionStatement","src":"403:5:0"},{"expression":{"id":55,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":52,"name":"arr","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8,"src":"412:3:0","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage","typeString":"uint256[] storage ref"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"components":[{"hexValue":"34","id":53,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"419:1:0","typeDescriptions":{"typeIdentifier":"t_rational_4_by_1","typeString":"int_const 4"},"value":"4"}],"id":54,"isConstant":false,"isInlineArray":true,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"TupleExpression","src":"418:3:0","typeDescriptions":{"typeIdentifier":"t_array$_t_uint8_$1_memory_ptr","typeString":"uint8[1] memory"}},"src":"412:9:0","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage","typeString":"uint256[] storage ref"}},"id":56,"nodeType":"ExpressionStatement","src":"412:9:0"},{"expression":{"id":63,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":57,"name":"arr2","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":19,"src":"425:4:0","typeDescriptions":{"typeIdentifier":"t_array$_t_array$_t_uint256_$dyn_storage_$dyn_storage","typeString":"uint256[] storage ref[] storage ref"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"components":[{"components":[{"hexValue":"31","id":58,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"434:1:0","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"}],"id":59,"isConstant":false,"isInlineArray":true,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"TupleExpression","src":"433:3:0","typeDescriptions":{"typeIdentifier":"t_array$_t_uint8_$1_memory_ptr","typeString":"uint8[1] memory"}},{"components":[{"hexValue":"32","id":60,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"439:1:0","typeDescriptions":{"typeIdentifier":"t_rational_2_by_1","typeString":"int_const 2"},"value":"2"}],"id":61,"isConstant":false,"isInlineArray":true,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"TupleExpression","src":"438:3:0","typeDescriptions":{"typeIdentifier":"t_array$_t_uint8_$1_memory_ptr","typeString":"uint8[1] memory"}}],"id":62,"isConstant":false,"isInlineArray":true,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"TupleExpression","src":"432:10:0","typeDescriptions":{"typeIdentifier":"t_array$_t_array$_t_uint8_$1_memory_ptr_$2_memory_ptr","typeString":"uint8[1] memory[2] memory"}},"src":"425:17:0","typeDescriptions":{"typeIdentifier":"t_array$_t_array$_t_uint256_$dyn_storage_$dyn_storage","typeString":"uint256[] storage ref[] storage ref"}},"id":64,"nodeType":"ExpressionStatement","src":"425:17:0"},{"expression":{"id":69,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":65,"name":"s","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34,"src":"446:1:0","typeDescriptions":{"typeIdentifier":"t_struct$_S_$27_storage","typeString":"struct Base.S storage ref"}},"id":67,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"arr","nodeType":"MemberAccess","referencedDeclaration":22,"src":"446:5:0","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage","typeString":"uint256[] storage ref"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":68,"name":"arr","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8,"src":"454:3:0","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage","typeString":"uint256[] storage ref"}},"src":"446:11:0","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage","typeString":"uint256[] storage ref"}},"id":70,"nodeType":"ExpressionStatement","src":"446:11:0"},{"expression":{"id":75,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":71,"name":"s","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34,"src":"461:1:0","typeDescriptions":{"typeIdentifier":"t_struct$_S_$27_storage","typeString":"struct Base.S storage ref"}},"id":73,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"arr2","nodeType":"MemberAccess","referencedDeclaration":26,"src":"461:6:0","typeDescriptions":{"typeIdentifier":"t_array$_t_array$_t_uint256_$dyn_storage_$dyn_storage","typeString":"uint256[] storage ref[] storage ref"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":74,"name":"arr2","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":19,"src":"470:4:0","typeDescriptions":{"typeIdentifier":"t_array$_t_array$_t_uint256_$dyn_storage_$dyn_storage","typeString":"uint256[] storage ref[] storage ref"}},"src":"461:13:0","typeDescriptions":{"typeIdentifier":"t_array$_t_array$_t_uint256_$dyn_storage_$dyn_storage","typeString":"uint256[] storage ref[] storage ref"}},"id":76,"nodeType":"ExpressionStatement","src":"461:13:0"}]},"id":78,"implemented":true,"kind":"constructor","modifiers":[],"name":"","nameLocation":"-1:-1:-1","nodeType":"FunctionDefinition","parameters":{"id":46,"nodeType":"ParameterList","parameters":[],"src":"389:2:0"},"returnParameters":{"id":47,"nodeType":"ParameterList","parameters":[],"src":"399:0:0"},"scope":79,"src":"378:100:0","stateMutability":"nonpayable","virtual":false,"visibility":"public"}],"scope":80,"src":"352:128:0","usedErrors":[]}],"src":"0:481:0","sourceEntryKey":"test/samples/if_updated_inline_initializers.sol"},"id":0,"source":"pragma solidity 0.8.7;\n\ncontract Base {\n\t//// #if_updated x >= old(x);\n\tuint x;\n\t//// #if_updated arr.length > 0;\n\tuint[] arr = [1];\n\n\t//// #if_updated arr2.length > 0;\n\tuint[][] arr2 = [[1,2], [3,4]];\n\n\tstruct S {\n\t\tuint[] arr;\n\t\tuint[][] arr2;\n\t}\n\n\t//// #if_updated s.arr.length > 0;\n\tS s = S({arr:arr, arr2: arr2});\n\n\tconstructor() {\n\t\tx = 1;\n\t}\n}\n\ncontract Child is Base {\n\tconstructor() public {\n\t\tx = 4;\n\t\tarr = [4];\n\t\tarr2 = [[1], [2]];\n\t\ts.arr = arr;\n\t\ts.arr2 = arr2;\n\t}\n}\n"}},"compilerVersion":"0.8.7"}